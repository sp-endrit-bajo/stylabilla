// Dropdown
//
// Basic dropdown
//
// .sb-dropdown--open - open dropdown
//
// Markup:
//  <div class="sb-form-control">
//    <p class="sb-label">Choose an option</p>
//    <div class="sb-dropdown {{modifier_class}}">
//      <div class="sb-dropdown__button sb-form-control__input">
//        <button class="sb-input" title="Choose an option" aria-label="Choose an option" aria-expanded="false">
//          Choice 1
//        </button>
//        <svg class="sb-icon" viewBox="-5 -5 16 16"><path d="M0 0l3.5 4L7 0H0"></svg>
//      </div>
//      <ul class="sb-dropdown__menu" role="listbox">
//        <li class="sb-dropdown__menu-item" tabindex="0" role="option">Choice 1</li>
//        <li class="sb-dropdown__menu-item" tabindex="0" role="option">Choice 2</li>
//        <li class="sb-dropdown__menu-item" tabindex="0" role="option">Choice 3</li>
//      </ul>
//    </div>
//  </div>
//
// Styleguide dropdown

.#{$ns}dropdown {
  position: relative;
  font-family: $sb-base-font-family;
  font-size: sb-px2rems(13px);
  color: $sb-color-dark-3;

  &__button {
    z-index: 1;

    .#{$ns}input {
      padding-right: sb-px2rems(30px);
      cursor: pointer;
      text-align: left;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .#{$ns}icon {
      display: inline;
      pointer-events: none;
    }
  }

  &__menu {
    display: none;
    position: absolute;
    width: 100%;
    background-color: $sb-color-white;
    border-radius: 0 0 sb-px2rems($sb-radius) sb-px2rems($sb-radius);
    list-style: none;
    padding: 0;
    margin: 0;
    max-height: 300px;
    overflow-y: scroll;
    z-index: 9;
    border: 1px solid $sb-color-light-3;
    border-top: none;
  }

  &__menu-item {
    padding: sb-px2rems(11px);
    cursor: pointer;

    &:hover,
    &:focus {
      background-color: $sb-color-light-4;
    }

    &:active {
      background-color: $sb-color-blue-4;
    }

    &:focus {
      outline: none;
    }

    &--selected {
      background-color: $sb-color-light-4;
    }

    .#{$ns}checkbox {
      pointer-events: none;
    }
  }

  &--open {
    .#{$ns}dropdown__button .#{$ns}input:hover,
    .#{$ns}dropdown__button .#{$ns}input:focus {
      box-shadow: none;
    }

    .#{$ns}dropdown__menu {
      display: block;
    }

    .#{$ns}icon {
      transform: translateY(-50%) rotate(180deg);
    }
  }
}

// Dropdown with multiple item selection
//
//JavaScript is required for:
// - Checking/Unchecking the checkbox element on click handler of the row
// - Updating aria-expanded value
//
// Markup:
// <div class="sb-form-control">
//   <p class="sb-label">Select options</p>
//   <div class="sb-dropdown sb-dropdown--open">
//     <div class="sb-dropdown__button sb-form-control__input">
//       <button class="sb-input" title="Select options" aria-label="Select options" aria-expanded="true">
//         Select options
//       </button>
//       <svg class="sb-icon" viewBox="-5 -5 16 16"><path d="M0 0l3.5 4L7 0H0"></svg>
//     </div>
//     <ul class="sb-dropdown__menu" role="listbox">
//       <li class="sb-dropdown__menu-item" tabindex="0" role="option">
//         <div class="sb-checkbox">
//           <input type="checkbox" id="checkbox-dropdown-1" class="sb-checkbox__input" tabindex="-1">
//           <label class="sb-checkbox__label" for="checkbox-dropdown-1">
//             <span class="sb-checkbox__faux">
//               <svg class="sb-checkbox__checkmark" viewBox="0 0 8 7">
//                 <path d="M7.68025,0 C5.067,1.97775 2.56075,4.6235 2.56075,4.6235 L0.7545,3 L0,3.7685 C0.74225,4.46625 2.46225,6.30925 3.044,7 C4.6815,4.26425 6.38375,2.224 8,0.3585 L7.68025,0 Z"></path>
//               </svg>
//             </span>
//             <span class="sb-margin-left-xs">Choice 1</span>
//           </label>
//         </div>
//       </li>
//       <li class="sb-dropdown__menu-item sb-dropdown__menu-item--selected" tabindex="0" role="option">
//         <div class="sb-checkbox">
//           <input type="checkbox" id="checkbox-dropdown-2" class="sb-checkbox__input" tabindex="-1" checked>
//           <label class="sb-checkbox__label" for="checkbox-dropdown-2">
//             <span class="sb-checkbox__faux">
//               <svg class="sb-checkbox__checkmark" viewBox="0 0 8 7">
//                 <path d="M7.68025,0 C5.067,1.97775 2.56075,4.6235 2.56075,4.6235 L0.7545,3 L0,3.7685 C0.74225,4.46625 2.46225,6.30925 3.044,7 C4.6815,4.26425 6.38375,2.224 8,0.3585 L7.68025,0 Z"></path>
//               </svg>
//             </span>
//             <span class="sb-margin-left-xs">Choice 2</span>
//           </label>
//         </div>
//       </li>
//       <li class="sb-dropdown__menu-item" tabindex="0" role="option">
//         <div class="sb-checkbox">
//           <input type="checkbox" id="checkbox-dropdown-3" class="sb-checkbox__input" tabindex="-1">
//           <label class="sb-checkbox__label" for="checkbox-dropdown-3">
//             <span class="sb-checkbox__faux">
//               <svg class="sb-checkbox__checkmark" viewBox="0 0 8 7">
//                 <path d="M7.68025,0 C5.067,1.97775 2.56075,4.6235 2.56075,4.6235 L0.7545,3 L0,3.7685 C0.74225,4.46625 2.46225,6.30925 3.044,7 C4.6815,4.26425 6.38375,2.224 8,0.3585 L7.68025,0 Z"></path>
//               </svg>
//             </span>
//             <span class="sb-margin-left-xs">Choice 3</span>
//           </label>
//         </div>
//       </li>
//     </ul>
//   </div>
// </div>
//
// Styleguide dropdown.multiselect

// Dropdown disabled
//
// Markup:
//  <div class="sb-form-control">
//    <p class="sb-label">Choose an option</p>
//    <div class="sb-dropdown {{modifier_class}}">
//      <div class="sb-dropdown__button sb-form-control__input">
//       <button class="sb-input" title="Choose an option" aria-label="Choose an option" disabled aria-expanded="false">
//         Choice 1
//       </button>
//       <svg class="sb-icon" viewBox="-5 -5 16 16"><path d="M0 0l3.5 4L7 0H0"></svg>
//      </div>
//      <ul class="sb-dropdown__menu" role="listbox">
//        <li class="sb-dropdown__menu-item" tabindex="0" role="option">Choice 1</li>
//        <li class="sb-dropdown__menu-item" tabindex="0" role="option">Choice 2</li>
//        <li class="sb-dropdown__menu-item" tabindex="0" role="option">Choice 3</li>
//      </ul>
//    </div>
//  </div>
//
// Styleguide dropdown.disabled

// Dropdown with validation
//
// Dropdown error validation
//
// .sb-form-control--invalid - invalid dropdown
//
// Markup:
// <div class="sb-form-control {{modifier_class}}">
//    <p class="sb-label">Choose an option</p>
//    <div class="sb-dropdown">
//      <div class="sb-dropdown__button sb-form-control__input">
//        <button class="sb-input" title="Choose an option" aria-expanded="false">
//          Choice 1
//        </button>
//        <svg class="sb-icon" viewBox="-5 -5 16 16"><path d="M0 0l3.5 4L7 0H0"></svg>
//      </div>
//      <ul class="sb-dropdown__menu" role="listbox">
//        <li class="sb-dropdown__menu-item" tabindex="0" role="option">Choice 1</li>
//        <li class="sb-dropdown__menu-item" tabindex="0" role="option">Choice 2</li>
//        <li class="sb-dropdown__menu-item" tabindex="0" role="option">Choice 3</li>
//      </ul>
//    </div>
//    <p role="alert" class="sb-form-control__validation">Error message here.</p>
//  </div>
//
// Styleguide dropdown.validation
